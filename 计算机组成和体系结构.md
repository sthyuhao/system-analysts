# 计算机组成和体系结构

## 计算机的组成

计算机主要有6种部件，分别是**控制器、运算器、内存储器、外存储器、输入设备和输出设备**

1、控制器

2、运算器（ALU）：算术逻辑单元，对数据进行算术运算和逻辑运算。通常由ALU（算术/逻辑单元，包括累加器、加法器等）、通用寄存器（不包含地址寄存器）、多路转换器、数据总线组成。

3、内存储器（内存、主存）

4、外存储器（外存、辅存）

5、输入设备

6、输出设备



Tips：现在的控制器和运算器是被制造在同一块超大规模集成电路中，统称为中央处理器（CPU）





## 计算机的分类

Flynn提出根据指令流、数据流的多倍行特征对计算机系统进行分类（通常称为Flynn分类法），有关定义如下：

1、指令流：指机器执行的指令序列

2、数据流：指由指令流调用的数据序列，包括输入数据和中间结果，但不包括输出数据

3、多倍性：指在系统性能瓶颈部件上同时处于同一执行阶段的指令或数据的最大可能个数。



Flynn根据不同的指令流-数据流组织方式，把计算机系统分成4类：

1、单指令流单数据流（SISD）：SISD其实就是传统的顺序执行的单处理器计算机，其指令部件每次支队一条指令进行译码，并支队一个部件分配数据。流水线方式的单处理机**有时**也被当做SISD。

2、单指令流多数据量（SIMD）：SIMD以并行处理机（阵列处理机）为代表，并行处理机包括多个重复的处理单元，由单一指令部件控制，按照同一指令流的要求为他们分配各自所需的数据。相联处理机也属于这一类。

3、多指令流单数据流（MISD）：MISD具有n个处理单元，按n条不同指令的要求对同一数据流及中间结果进行不同的处理。**少见**

4、多指令流多数据流（MIMD）：MIMD指能实现作业、任务、指令等各级全面并行的多机系统。多处理机属于MIMD。

Flynn分类法是最普遍使用的。



其他分类法：

1、冯氏分类法：在单位时间内所能处理的最大二进制位数进行分类。

2、Handler分类法：计算机指令执行的并行度和流水线来对计算机系统进行分类。

3、Kuck分类法：和Flynn相似也是用指令流、执行流和多倍性来描述系统特征，但强调执行流的概念。





## 多级存储体系

存储体系包括**寄存器、cache、主存储器、磁盘存储器、光盘存储器、磁带存储器**等。

存储器中常用的存取方式**有 顺序存取、直接存取、随机存取**和**相联存取**





## 主存储器

1、RAM（随机存取存储器）：RAM存储器既可以写入也可以读取，断点后信息无法保存，只能用于暂存。可分为DRAM（动态）和SRAM（静态）。

​	DRAM - 信息回随时间逐渐消失，需要定时刷新维持信息。

​	SRAM - 只要不断地就能一直保持信息。

​	DRAM密度大于SRAM，且便宜，但SRAM速度快，电路简单。

2、ROM（只读存储器）：只可读取，无法改写。一般用于存放系统城BIOS和用于微程序控制。

3、PROM（可编程ROM）：只能进行一次写入的ROM，用户也可使用特殊电子设备进行写入。

4、EPROM（可擦除的PROM）

5、E2PROM（电可擦除EPROM）

6、闪存

7、CAM（相联存储器）





## 辅助存储器

辅助存储器用于存放当前不需要立即使用的信息，需要时和主机成批交换数据，是主存的后备。

特点：容量大、可靠性高、价格低。

1、磁带存储器

​	磁带存储设备是一种顺序存取的设备，存取时间较长，但容量大，价格便宜，便于携带。由磁带机进行读写（最便宜也最慢）。读写方式分两种：启停式和数据流式。

2、磁盘存储器

​	磁盘上的数据都存放于磁道上。磁道就是磁盘上的一组同心圆，宽度与磁头的宽度相同。

3、RAID存储器（廉价磁盘冗余阵列）

​	用于缩小CPU和磁盘存储器存取速度的差距，用多个较小的磁盘驱动器替换单一的大容量磁盘驱动器，同时可怜的在多个磁盘上分布存放数据以支持同时从多个磁盘进行读写。

​	RAID机制共分8个级别，RAID应用的主要技术有：**分块技术、交叉技术、重聚技术**

1、RAID0级（无冗余和无校验的数据分块）：最高的I/O性能和最高的磁盘空间利用率。易管理，但故障率高，属于非冗余系统。适用于关注性能、容量和价格的应用场景

2、RAID1级（磁盘镜像阵列）：由磁盘对组成，每一个工作盘都有其对应的镜像盘，上面保存着和工作盘完全相同的数据拷贝，具有最高的安全性，但空间利用率只有50%。RAID1用于存放系统软件、数据以及其他重要文件。提供了数据的实时备份，一旦发生故障，所有的数据立刻就可使用。

3、RAID2级（采用纠错海明码的磁盘阵列）：采用海明码纠错技术，通过增加校验盘来提供单纠错和双纠错功能。应用场景少。

4、RAID3和RAID4（采用奇偶校验码的磁盘阵列）：把奇偶校验码存放在一个独立的校验盘上，如果有一个盘失效，数据可以从另外一个盘上进行数据异或运算得到。读取速度快，写入要计算校验位，所以速度慢。

5、RAID5（无独立校验盘的奇偶校验码磁盘阵列）：与RAID4相似，但没有独立的校验盘，校验信息分布在组内所有盘上，大批量和小批量数据读写性能都很好。中规中矩

6、RAID6（具有独立的数据硬盘与两个独立的分布式校验方案）：设置了一个专用的、可快速访问的异步校验盘。该盘具有独立的数据访问通路，但其性能改进有限，价格昂贵。

7、RAID7（具有最优化的异步高I/O速率和高数据传输率的磁盘阵列）：对RAID6的改进，所有的磁盘传输速度都较高，有优异的性能，是目前最高档次的磁盘

8、RAID10（高可靠和高性能的组合）：由多个RAID等级组成合成，建立在RAID0和RAID1的基础上。RAID0用于读写，RAID1用户数据保护，目前几乎所有的RAID控制卡都支持这一等级。





## 光盘存储器



